
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The cascade.instruments module &#8212; CASCADe 0.9 beta documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The cascade.utilities module" href="cascade.utilities.html" />
    <link rel="prev" title="The cascade.initialize module" href="cascade.initialize.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="cascade.initialize.html" title="Previous document">The cascade.initialize module</a>
        </li>
        <li>
          <a href="cascade.utilities.html" title="Next document">The cascade.utilities module</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="module-cascade.instruments.instruments">
<span id="the-cascade-instruments-module"></span><h1>The cascade.instruments module<a class="headerlink" href="#module-cascade.instruments.instruments" title="Permalink to this headline">¶</a></h1>
<p>Observatory and Instruments specific module of the CASCADe package</p>
<dl class="class">
<dt id="cascade.instruments.instruments.Observation">
<em class="property">class </em><code class="descname">Observation</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#Observation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.Observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class handles the selection of the correct observatory and
instrument classes and loads the time series data to be analyzed
The observations specific parameters set during the initialization
of the TSO object are used to select the observatory and instrument
through a factory method and to load the specified observations
into the instance of the TSO object.</p>
<div class="admonition-examples admonition">
<p class="first admonition-title">Examples</p>
<p>The Observation calss is  called during the following command:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tso</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;load_data&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="method">
<dt id="cascade.instruments.instruments.Observation._Observation__check_observation_type">
<code class="descname">_Observation__check_observation_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cascade.instruments.instruments.Observation._Observation__check_observation_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check of the in the .ini specified observation type
valid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – Raises error if the specified observation type is not valid or if
the tso instance is not initialized.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.Observation._Observation__do_observations">
<code class="descname">_Observation__do_observations</code><span class="sig-paren">(</span><em>observatory</em><span class="sig-paren">)</span><a class="headerlink" href="#cascade.instruments.instruments.Observation._Observation__do_observations" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method to load the needed observatory class and methods</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.Observation._Observation__get_observatory_name">
<code class="descname">_Observation__get_observatory_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cascade.instruments.instruments.Observation._Observation__get_observatory_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to load the in the .ini files specified observatory name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><em>ValueError</em> – Returns error if the observatory is not specified or recognized</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.Observation._Observation__valid_observation_type">
<code class="descname">_Observation__valid_observation_type</code><a class="headerlink" href="#cascade.instruments.instruments.Observation._Observation__valid_observation_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Set listing the current implemented observation types</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.Observation._Observation__valid_observatories">
<code class="descname">_Observation__valid_observatories</code><a class="headerlink" href="#cascade.instruments.instruments.Observation._Observation__valid_observatories" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary listing the current implemented observatories,
used in factory method to select a observatory specific class</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cascade.instruments.instruments.ObservatoryBase">
<em class="property">class </em><code class="descname">ObservatoryBase</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#ObservatoryBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.ObservatoryBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Observatory base class used to define the basic properties an observatory
class should have</p>
<dl class="attribute">
<dt id="cascade.instruments.instruments.ObservatoryBase.name">
<code class="descname">name</code><a class="headerlink" href="#cascade.instruments.instruments.ObservatoryBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the observatory.</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.ObservatoryBase.location">
<code class="descname">location</code><a class="headerlink" href="#cascade.instruments.instruments.ObservatoryBase.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Location of the observatory</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.ObservatoryBase.NAIF_ID">
<code class="descname">NAIF_ID</code><a class="headerlink" href="#cascade.instruments.instruments.ObservatoryBase.NAIF_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>NAIF ID of the observatory. With this the location relative to the
sun and the observed target as a function of time can be determined.
Needed to calculate BJD time.</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.ObservatoryBase.observatory_instruments">
<code class="descname">observatory_instruments</code><a class="headerlink" href="#cascade.instruments.instruments.ObservatoryBase.observatory_instruments" title="Permalink to this definition">¶</a></dt>
<dd><p>The names of the instruments part of the observatory.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cascade.instruments.instruments.InstrumentBase">
<em class="property">class </em><code class="descname">InstrumentBase</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#InstrumentBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.InstrumentBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Instrument base class used to define the basic properties an instrument
class should have</p>
<dl class="method">
<dt id="cascade.instruments.instruments.InstrumentBase.load_data">
<code class="descname">load_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#InstrumentBase.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.InstrumentBase.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Method which allows to load data.</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.InstrumentBase.get_instrument_setup">
<code class="descname">get_instrument_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#InstrumentBase.get_instrument_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.InstrumentBase.get_instrument_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Method which gets the specific setup of the used instrument.</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.InstrumentBase.name">
<code class="descname">name</code><a class="headerlink" href="#cascade.instruments.instruments.InstrumentBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the instrument.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cascade.instruments.instruments.HST">
<em class="property">class </em><code class="descname">HST</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HST"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HST" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cascade.instruments.instruments.ObservatoryBase" title="cascade.instruments.instruments.ObservatoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">cascade.instruments.instruments.ObservatoryBase</span></code></a></p>
<p>This observatory class defines the instuments and data handling for the
spectropgraphs of the Spitzer Space telescope</p>
<dl class="attribute">
<dt id="cascade.instruments.instruments.HST.name">
<code class="descname">name</code><a class="headerlink" href="#cascade.instruments.instruments.HST.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to ‘HST’</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.HST.location">
<code class="descname">location</code><a class="headerlink" href="#cascade.instruments.instruments.HST.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to ‘SPACE’</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.HST.NAIF_ID">
<code class="descname">NAIF_ID</code><a class="headerlink" href="#cascade.instruments.instruments.HST.NAIF_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to -48</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.HST.observatory_instruments">
<code class="descname">observatory_instruments</code><a class="headerlink" href="#cascade.instruments.instruments.HST.observatory_instruments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns {‘WFC3’}</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cascade.instruments.instruments.HSTWFC3">
<em class="property">class </em><code class="descname">HSTWFC3</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cascade.instruments.instruments.InstrumentBase" title="cascade.instruments.instruments.InstrumentBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">cascade.instruments.instruments.InstrumentBase</span></code></a></p>
<p>This instrument class defines the properties of the WFC3 instrument of
the Hubble Space Telescope</p>
<p>For the instrument and observations the following valid options are
available:</p>
<blockquote>
<div><ul class="simple">
<li>detector subarrays : {‘IRSUB128’, ‘IRSUB256’, ‘IRSUB512’, ‘GRISM128’,
‘GRISM256’, ‘GRISM512’}</li>
<li>spectroscopic filters : {‘G141’}</li>
<li>imaging filters :  {‘F139M’, ‘F132N’, ‘F167N’}</li>
<li>data type : {‘SPECTRUM’, ‘SPECTRAL_IMAGE’}</li>
<li>observing strategy : {‘STARING’}</li>
<li>data products : {‘SPC’, ‘flt’, ‘COE’}</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="cascade.instruments.instruments.HSTWFC3.name">
<code class="descname">name</code><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3.name" title="Permalink to this definition">¶</a></dt>
<dd><p>‘WFC3’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Name of the HST instrument</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3.load_data">
<code class="descname">load_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This function loads the WFC3 data form disk based on the
parameters defined during the initialization of the TSO object.</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3.get_instrument_setup">
<code class="descname">get_instrument_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3.get_instrument_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3.get_instrument_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all relevant parameters defining the instrument and data setup</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>par</strong> (<cite>collections.OrderedDict</cite>) – Dictionary containg all relevant parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If obseervationla parameters are not or incorrect defined an
error will be raised</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3.get_spectra">
<code class="descname">get_spectra</code><span class="sig-paren">(</span><em>is_background=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3.get_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3.get_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>This function combines all functionallity to read fits files
containing the (uncalibrated) spectral timeseries, including
orbital phase and wavelength information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_background</strong> (<cite>bool</cite>) – if <cite>True</cite> the data represents an observaton of the IR background
to be subtracted of the data of the transit spectroscopy target.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>SpectralTimeSeries</strong> (<cite>cascade.data_model.SpectralDataTimeSeries</cite>) – Instance of <cite>SpectralDataTimeSeries</cite> containing all spectroscopic
data including uncertainties, time, wavelength and bad pixel mask.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><em>AssertionError, KeyError</em> – Raises an error if no data is found or if certain expected
fits keywords are not present in the data files.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3.get_spectral_images">
<code class="descname">get_spectral_images</code><span class="sig-paren">(</span><em>is_background=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3.get_spectral_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3.get_spectral_images" title="Permalink to this definition">¶</a></dt>
<dd><p>This function combines all functionallity to read fits files
containing the (uncalibrated) spectral image timeseries, including
orbital phase and wavelength information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_background</strong> (<cite>bool</cite>) – if <cite>True</cite> the data represents an observaton of the IR background
to be subtracted of the data of the transit spectroscopy target.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>SpectralTimeSeries</strong> (<cite>cascade.data_model.SpectralDataTimeSeries</cite>) – Instance of <cite>SpectralDataTimeSeries</cite> containing all spectroscopic
data including uncertainties, time, wavelength and bad pixel mask.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><em>AssertionError, KeyError</em> – Raises an error if no data is found or if certain expected
fits keywords are not present in the data files.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._define_convolution_kernel">
<code class="descname">_define_convolution_kernel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._define_convolution_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._define_convolution_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the instrument specific convolution kernel which will be used
in the correction procedure of bad pixels</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._define_region_of_interest">
<code class="descname">_define_region_of_interest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._define_region_of_interest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._define_region_of_interest" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines region on detector which containes the intended target star.</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._get_background_cal_data">
<code class="descname">_get_background_cal_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._get_background_cal_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._get_background_cal_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the calibration data from which the background in the science
images can be determined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><em>FileNotFoundError, AttributeError</em> – An error is raised if the calibration images are not found or the
background data is not properly defined.</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<p>For further details see:</p>
<blockquote class="last">
<div><a class="reference external" href="http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2015-17.pdf">http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2015-17.pdf</a></div></blockquote>
</div>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._fit_background">
<code class="descname">_fit_background</code><span class="sig-paren">(</span><em>science_data_in</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._fit_background"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._fit_background" title="Permalink to this definition">¶</a></dt>
<dd><p>Determes the background in the HST Grism data using a model for the
background to the spectral timeseries data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>science_data_in</strong> (<cite>masked quantity</cite>) – Input data for which the background will be determined</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>SpectralTimeSeries</strong> (<cite>SpectralDataTimeSeries</cite>) – The fitted IR bacgound as a function of time</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<p>All details of the implemented model is described in:</p>
<p class="last"><a class="reference external" href="http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2015-17.pdf">http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2015-17.pdf</a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._determine_relative_source_position">
<code class="descname">_determine_relative_source_position</code><span class="sig-paren">(</span><em>spectral_image_cube</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._determine_relative_source_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._determine_relative_source_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the shift of the spectra (source) relative to the first
integration. Note that it is important for this to work properly
to have identified bad pixels and to correct the values using an edge
preserving correction, i.e. an correction which takes into account
the dispersion direction and psf size (relative to pixel size)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>spectral_image_cube</strong> (<cite>ndarray</cite>) – Input spectral image data cube.</li>
<li><strong>mask</strong> (<cite>ndarray</cite> of <cite>int</cite>) – Bad pixel and region of interest mask. Values of 1 indicate
flagged data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><p class="first last"><strong>relative_source_shift</strong> – relative x and y position as a function of time.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._determine_source_position_from_cal_image">
<code class="descname">_determine_source_position_from_cal_image</code><span class="sig-paren">(</span><em>calibration_image_cube</em>, <em>calibration_data_files</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._determine_source_position_from_cal_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._determine_source_position_from_cal_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the source position on the detector of the target source in
the calibration image takes prior to the spectroscopic observations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>calibration_image_cube</strong> (<cite>ndarray</cite>) – Cube containing all acquisition images of the target.</li>
<li><strong>calibration_data_files</strong> (<cite>list</cite> of <cite>str</cite>) – List containing the file names associated with the calibraton data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><p class="first last"><strong>calibration_source_position</strong> (<cite>list’ of `tuple</cite>) – The position of the source in the acquisition images associated
with the HST spectral timeseries observations.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._read_grism_configuration_files">
<code class="descname">_read_grism_configuration_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._read_grism_configuration_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._read_grism_configuration_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the relevant data from WFC3 configuration files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first simple">
<li><strong>DYDX</strong> (<cite>list</cite>) – The parameters for the spectral trace</li>
<li><strong>DLDP</strong> (<em>'list`</em>) – The parameters for the wavelength calibration</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – An error is raised if the parameters associated
with the specified instrument mode can not be found in the
calibration file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._read_reference_pixel_file">
<code class="descname">_read_reference_pixel_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._read_reference_pixel_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._read_reference_pixel_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the calibration file containig the definition
of the reference pixel appropriate for a given sub array and or filer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>reference_pixels</strong> (<cite>collections.OrderedDict</cite>) – Ordered dict containing the reference pixels to be used in the
wavelength calibration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="cascade.instruments.instruments.HSTWFC3._search_ref_pixel_cal_file">
<em class="property">static </em><code class="descname">_search_ref_pixel_cal_file</code><span class="sig-paren">(</span><em>ptable</em>, <em>inst_aperture</em>, <em>inst_filter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._search_ref_pixel_cal_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._search_ref_pixel_cal_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the reference pixel calibration file for the reference pixel
given the instrument aperture and filter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ptable</strong> (<cite>dict</cite>) – Calibratrion table with reference positions</li>
<li><strong>inst_aperture</strong> (<cite>str</cite>) – The instrument aperture</li>
<li><strong>inst_filter</strong> (<cite>str</cite>) – The instrument filter</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><strong>XREF</strong> (<cite>float</cite>) – X reference position for the acquisition image</li>
<li><strong>YREF</strong> (<cite>float</cite>) – Y reference position for the acquisition image</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – An error is raises if the instrument aperture if filter is not
fount in the calibration table</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<dl class="last docutils">
<dt>See also:</dt>
<dd><a class="reference external" href="http://www.stsci.edu/hst/observatory/apertures/wfc3.html">http://www.stsci.edu/hst/observatory/apertures/wfc3.html</a></dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._get_subarray_size">
<code class="descname">_get_subarray_size</code><span class="sig-paren">(</span><em>calibration_data</em>, <em>spectral_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._get_subarray_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._get_subarray_size" title="Permalink to this definition">¶</a></dt>
<dd><p>This function determines the size of the used subarray.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>calibration_data</strong> – </li>
<li><strong>spectral_data</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><p class="first"><strong>subarray_sizes</strong> – </p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3._get_wavelength_calibration">
<code class="descname">_get_wavelength_calibration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._get_wavelength_calibration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._get_wavelength_calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>The functions returns the wavelength calibration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>wave_cal</strong> (<cite>ndarray</cite>) – Wavelength calibraiton of the observations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – An error is raised if the necessary calibration data
is not yet defined.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.HSTWFC3.get_spectral_trace">
<code class="descname">get_spectral_trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3.get_spectral_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3.get_spectral_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Get spectral trace</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>spectral_trace</strong> (<cite>collections.OrderedDict</cite>) – The spectral trace of the dispersed light (both position and
wavelength)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – An error is raised in the necessary calibration data is
not yet defined.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="cascade.instruments.instruments.HSTWFC3._WFC3Trace">
<em class="property">static </em><code class="descname">_WFC3Trace</code><span class="sig-paren">(</span><em>xc</em>, <em>yc</em>, <em>DYDX</em>, <em>xref=522</em>, <em>yref=522</em>, <em>xref_grism=522</em>, <em>yref_grism=522</em>, <em>subarray=256</em>, <em>subarray_grism=256</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._WFC3Trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._WFC3Trace" title="Permalink to this definition">¶</a></dt>
<dd><p>This function defines the spectral trace for the wfc3 grism modes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xc</strong> – </li>
<li><strong>yc</strong> – </li>
<li><strong>DYDX</strong> – </li>
<li><strong>xref=522</strong> – </li>
<li><strong>yref=522</strong> – </li>
<li><strong>xref_grism=522</strong> – </li>
<li><strong>yref_grism=522</strong> – </li>
<li><strong>subarray=256</strong> – </li>
<li><strong>subarray_grism=256</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>trace</em></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<p>Details can be found in:</p>
<blockquote>
<div><a class="reference external" href="http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2016-15.pdf">http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2016-15.pdf</a></div></blockquote>
<p>and</p>
<blockquote class="last">
<div><a class="reference external" href="http://www.stsci.edu/hst/observatory/apertures/wfc3.html">http://www.stsci.edu/hst/observatory/apertures/wfc3.html</a></div></blockquote>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="cascade.instruments.instruments.HSTWFC3._WFC3Dispersion">
<em class="property">static </em><code class="descname">_WFC3Dispersion</code><span class="sig-paren">(</span><em>xc</em>, <em>yc</em>, <em>DYDX</em>, <em>DLDP</em>, <em>xref=522</em>, <em>yref=522</em>, <em>xref_grism=522</em>, <em>yref_grism=522</em>, <em>subarray=256</em>, <em>subarray_grism=256</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#HSTWFC3._WFC3Dispersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.HSTWFC3._WFC3Dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert pixel coordinate to wavelength.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xc</strong> – X coordinate of direct image centroid</li>
<li><strong>yc</strong> – Y coordinate of direct image centroid</li>
<li><strong>xref</strong> – </li>
<li><strong>yref</strong> – </li>
<li><strong>xref_grism</strong> – </li>
<li><strong>yref_grism</strong> – </li>
<li><strong>subarray</strong> – </li>
<li><strong>subarray_grism</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>wavelength</strong> (<em>‘astropy.units.core.Quantity’</em>) – return wavelength mapping of x coordinate in micron</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<p>For details of the method and coefficient adopted see <a class="footnote-reference" href="#id3" id="id1">[1]</a> and <a class="footnote-reference" href="#id4" id="id2">[2]</a>.
See also:</p>
<blockquote>
<div><a class="reference external" href="http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2016-15.pdf">http://www.stsci.edu/hst/wfc3/documents/ISRs/WFC3-2016-15.pdf</a></div></blockquote>
<p>In case the direct image and spectral image are not taken with the
same aperture, the centroid measurement is adjusted according to the
table in:</p>
<blockquote class="last">
<div><a class="reference external" href="http://www.stsci.edu/hst/observatory/apertures/wfc3.html">http://www.stsci.edu/hst/observatory/apertures/wfc3.html</a></div></blockquote>
</div>
<div class="admonition-references admonition">
<p class="first admonition-title">References</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Kuntschner et al. (2009)</td></tr>
</tbody>
</table>
<table class="last docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Wilkins et al. (2014)</td></tr>
</tbody>
</table>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cascade.instruments.instruments.Spitzer">
<em class="property">class </em><code class="descname">Spitzer</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#Spitzer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.Spitzer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cascade.instruments.instruments.ObservatoryBase" title="cascade.instruments.instruments.ObservatoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">cascade.instruments.instruments.ObservatoryBase</span></code></a></p>
<p>This observatory class defines the instuments and data handling for the
spectropgraphs of the Spitzer Space telescope</p>
<dl class="attribute">
<dt id="cascade.instruments.instruments.Spitzer.name">
<code class="descname">name</code><a class="headerlink" href="#cascade.instruments.instruments.Spitzer.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the observatory.</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.Spitzer.location">
<code class="descname">location</code><a class="headerlink" href="#cascade.instruments.instruments.Spitzer.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Location of the observatory</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.Spitzer.NAIF_ID">
<code class="descname">NAIF_ID</code><a class="headerlink" href="#cascade.instruments.instruments.Spitzer.NAIF_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>NAIF ID of the observatory. With this the location relative to the
sun and the observed target as a function of time can be determined.
Needed to calculate BJD time.</p>
</dd></dl>

<dl class="attribute">
<dt id="cascade.instruments.instruments.Spitzer.observatory_instruments">
<code class="descname">observatory_instruments</code><a class="headerlink" href="#cascade.instruments.instruments.Spitzer.observatory_instruments" title="Permalink to this definition">¶</a></dt>
<dd><p>The names of the instruments part of the observatory.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cascade.instruments.instruments.SpitzerIRS">
<em class="property">class </em><code class="descname">SpitzerIRS</code><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cascade.instruments.instruments.InstrumentBase" title="cascade.instruments.instruments.InstrumentBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">cascade.instruments.instruments.InstrumentBase</span></code></a></p>
<p>This instrument class defines the properties of the IRS instrument of
the Spitzer Space Telescope.
For the instrument and observations the following valid options are
available:</p>
<blockquote>
<div><ul class="simple">
<li>detectors :  {‘SL’, ‘LL’}</li>
<li>spectral orders : {‘1’, ‘2’}</li>
<li>data products : {‘droop’, ‘COE’}</li>
<li>observing mode : {‘STARING’, ‘NODDED’}</li>
<li>data type : {‘SPECTRUM’, ‘SPECTRAL_IMAGE’, ‘SPECTRAL_DETECTOR_CUBE’}</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="cascade.instruments.instruments.SpitzerIRS.name">
<code class="descname">name</code><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the instrument.</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS.load_data">
<code class="descname">load_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Method which allows to load data.</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS.get_instrument_setup">
<code class="descname">get_instrument_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS.get_instrument_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.get_instrument_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all relevant parameters defining the instrument and data setup</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS.get_spectra">
<code class="descname">get_spectra</code><span class="sig-paren">(</span><em>is_background=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS.get_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.get_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>This function combines all functionallity to read fits files
containing the (uncalibrated) spectral timeseries, including
orbital phase and wavelength information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_background</strong> (<cite>bool</cite>) – if <cite>True</cite> the data represents an observaton of the IR background
to be subtracted of the data of the transit spectroscopy target.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>SpectralTimeSeries</strong> (<cite>cascade.data_model.SpectralDataTimeSeries</cite>) – Instance of <cite>SpectralDataTimeSeries</cite> containing all spectroscopic
data including uncertainties, time, wavelength and bad pixel mask.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><em>AssertionError, KeyError</em> – Raises an error if no data is found or if certain expected
fits keywords are not present in the data files.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS.get_spectral_images">
<code class="descname">get_spectral_images</code><span class="sig-paren">(</span><em>is_background=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS.get_spectral_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.get_spectral_images" title="Permalink to this definition">¶</a></dt>
<dd><p>This function combines all functionallity to read fits files
containing the (uncalibrated) spectral timeseries, including
orbital phase and wavelength information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_background</strong> (<cite>bool</cite>) – if <cite>True</cite> the data represents an observaton of the IR background
to be subtracted of the data of the transit spectroscopy target.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>SpectralTimeSeries</strong> (<cite>cascade.data_model.SpectralDataTimeSeries</cite>) – Instance of <cite>SpectralDataTimeSeries</cite> containing all spectroscopic
data including uncertainties, time, wavelength and bad pixel mask.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><em>AssertionError, KeyError</em> – Raises an error if no data is found or if certain expected
fits keywords are not present in the data files.</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<dl class="docutils">
<dt>Notes on FOV:</dt>
<dd><p class="first">in the fits header the following relevant info is used:</p>
<ul class="last simple">
<li>FOVID     26     IRS_Short-Lo_1st_Order_1st_Position</li>
<li>FOVID     27     IRS_Short-Lo_1st_Order_2nd_Position</li>
<li>FOVID     28     IRS_Short-Lo_1st_Order_Center_Position</li>
<li>FOVID     29     IRS_Short-Lo_Module_Center</li>
<li>FOVID     32     IRS_Short-Lo_2nd_Order_1st_Position</li>
<li>FOVID     33     IRS_Short-Lo_2nd_Order_2nd_Position</li>
<li>FOVID     34     IRS_Short-Lo_2nd_Order_Center_Position</li>
<li>FOVID     40     IRS_Long-Lo_1st_Order_Center_Position</li>
<li>FOVID     46     IRS_Long-Lo_2nd_Order_Center_Position</li>
</ul>
</dd>
</dl>
<p>Notes on timing:</p>
<blockquote class="last">
<div><ul class="simple">
<li>FRAMTIME the total effective exposure time (ramp length)
in seconds</li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS._define_convolution_kernel">
<code class="descname">_define_convolution_kernel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS._define_convolution_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS._define_convolution_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the instrument specific convolution kernel which will be used
in the correction procedure of bad pixels</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS._define_region_of_interest">
<code class="descname">_define_region_of_interest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS._define_region_of_interest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS._define_region_of_interest" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines region on detector which containes the intended target star.</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS._get_order_mask">
<code class="descname">_get_order_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS._get_order_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS._get_order_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the mask which defines the pixels used with a given spectral order</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS._get_wavelength_calibration">
<code class="descname">_get_wavelength_calibration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS._get_wavelength_calibration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS._get_wavelength_calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get wavelength calibration file</p>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS.get_detector_cubes">
<code class="descname">get_detector_cubes</code><span class="sig-paren">(</span><em>is_background=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS.get_detector_cubes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.get_detector_cubes" title="Permalink to this definition">¶</a></dt>
<dd><p>This function combines all functionallity to read fits files
containing the (uncalibrated) detector cubes (detector data
on ramp level) timeseries, including
orbital phase and wavelength information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_background</strong> (<cite>bool</cite>) – if <cite>True</cite> the data represents an observaton of the IR background
to be subtracted of the data of the transit spectroscopy target.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>SpectralTimeSeries</strong> (<cite>cascade.data_model.SpectralDataTimeSeries</cite>) – Instance of <cite>SpectralDataTimeSeries</cite> containing all spectroscopic
data including uncertainties, time, wavelength and bad pixel mask.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><em>AssertionError, KeyError</em> – Raises an error if no data is found or if certain expected
fits keywords are not present in the data files.</td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="first admonition-title">Notes</p>
<p>Notes on timing in header:</p>
<p>There are several integration-time-related keywords.
Of greatest interest to the observer is the
“effective integration time”, which is the time on-chip between
the first and last non-destructive reads for each pixel. It is called:</p>
<blockquote>
<div>RAMPTIME = Total integration time for the current DCE.</div></blockquote>
<p>The value of RAMPTIME gives the usable portion of the integration ramp,
occurring between the beginning of the first read and the end of the
last read. It excludes detector array pre-conditioning time.
It may also be of interest to know the exposure time at other points
along the ramp. The SUR sequence consists of the time taken at the
beginning of a SUR sequence to condition the array
(header keyword DEADTIME), the time taken to complete one read and
one spin through the array (GRPTIME), and the non-destructive reads
separated by uniform wait times. The wait consists of “clocking”
through the array without reading or resetting. The time it takes to
clock through the array once is given by the SAMPTIME keyword.
So, for an N-read ramp:</p>
<blockquote>
<div>RAMPTIME = 2x(N-1)xSAMPTIME</div></blockquote>
<p>and</p>
<blockquote>
<div>DCE duration = DEADTIME + GRPTIME + RAMPTIME</div></blockquote>
<p class="last">Note that peak-up data is not obtained in SUR mode. It is obtained in
Double Correlated Sampling (DCS) mode. In that case, RAMPTIME gives the
time interval between the 2nd sample and the preceeding reset.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="cascade.instruments.instruments.SpitzerIRS.get_spectral_trace">
<code class="descname">get_spectral_trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cascade/instruments/instruments.html#SpitzerIRS.get_spectral_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cascade.instruments.instruments.SpitzerIRS.get_spectral_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Get spectral trace</p>
</dd></dl>

</dd></dl>

</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="cascade.initialize.html" title="Previous document">The cascade.initialize module</a>
        </li>
        <li>
          <a href="cascade.utilities.html" title="Next document">The cascade.utilities module</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/Exoplanets-A_Ecusson_Noir_Alpha.png" alt="Logo"/>
    
    <h1 class="logo logo-name">CASCADe</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing CASCADe</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto.html">Using Cascade</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cascade.html">CASCADe API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="cascade.html">CASCADe API</a><ul>
      <li>Previous: <a href="cascade.initialize.html" title="previous chapter">The cascade.initialize module</a></li>
      <li>Next: <a href="cascade.utilities.html" title="next chapter">The cascade.utilities module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Jeroen Bouwman.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/cascade.instruments.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>